<div class="card">
  <div class="card-header">
    <span *ngIf="id==0">
      <i class="fa fa-user-plus"></i>
      <strong>Tạo mới user</strong>
    </span>
    <span *ngIf="id>0">
      <i class="fa fa-user"></i>
      <strong>Cập nhật user</strong>
    </span>

  </div>
  <!--[Start] Create User-->
  <form [formGroup]="addUserForm" (ngSubmit)="onAddSubmit()">
    <div class="card-body" *ngIf="id==0">
      <div class="row">
        <div class="col-md-5">
          <div class="row">
            <div class="col-md-3">
              <label for="company">Tên đăng nhập<span class="asterisk">&#42;</span></label>
            </div>
            <div class="col-md-9">
              <div class="form-group">
                <input type="text" formControlName="username" class="form-control" id="username-id" placeholder="Nhập vào tên đăng nhập">
                <div *ngIf="addForm.username.invalid && (addForm.username.dirty || addForm.username.touched)" class="alert alert-danger">
                  <div *ngIf="addForm.username.errors.required">
                    *Tên đăng nhập là bắt buộc
                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>
        <div class="offset-md-2 col-md-5">
          <div class="row">
            <div class="col-md-3">
              <label for="company">Mật khẩu<span class="asterisk">&#42;</span></label>
            </div>
            <div class="col-md-9">
              <div class="form-group">
                <input type="password" formControlName="password" class="form-control" id="pass-id" placeholder="Nhập vào mật khẩu">
                <div *ngIf="addForm.password.invalid && (addForm.password.dirty || addForm.password.touched)" class="alert alert-danger">
                  <div *ngIf="addForm.password.errors.required">
                    *Mật khẩu là bắt buộc
                  </div>
                  <div *ngIf="addForm.password.errors.minlength">
                    *Mật khẩu tối thiểu phải có 8 ký tự
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-5">
          <div class="row">
            <div class="col-md-3">
              <label for="company">Email<span class="asterisk">&#42;</span></label>
            </div>
            <div class="col-md-9">
              <div class="form-group">
                <input type="text" formControlName="email" class="form-control" id="email-id" placeholder="Nhập vào email">
                <div *ngIf="addForm.email.invalid && (addForm.email.dirty || addForm.email.touched)" class="alert alert-danger">
                  <div *ngIf="addForm.email.errors.required">
                    *Email là bắt buộc
                  </div>
                  <div *ngIf="addForm.email.errors.email">
                    *Email không đúng định dạng
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="offset-md-2 col-md-5">
          <div class="row">
            <div class="col-md-3">
              <label for="company">Nhập lại mật khẩu<span class="asterisk">&#42;</span></label>
            </div>
            <div class="col-md-9">
              <div class="form-group">
                <input type="password" formControlName="confirmPassword" class="form-control" id="pass-confirm-id"
                  placeholder="Nhập lại mật khẩu">
                <div *ngIf="addForm.confirmPassword.invalid && (addForm.confirmPassword.dirty || addForm.confirmPassword.touched)"
                  class="alert alert-danger">
                  <div *ngIf="addForm.confirmPassword.errors.required">
                    *Mật khẩu là bắt buộc
                  </div>
                  <div *ngIf="addForm.confirmPassword.errors.minlength">
                    *Mật khẩu tối thiểu phải có 8 ký tự
                  </div>
                  <div *ngIf="addForm.confirmPassword.errors.mustMatch">*Mật khẩu không khớp nhau!</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-5">
          <div class="row">
            <div class="col-md-3">
              <label for="company">Quyền<span class="asterisk">&#42;</span></label>
            </div>
            <div class="col-md-9">
              <div class="form-group">
                <select id="select1" name="select1" class="form-control" formControlName="role">
                  <option [ngValue]="r.value" *ngFor="let r of roles">{{r.name}}</option>
                </select>
                <div *ngIf="addForm.role.invalid && (addForm.role.dirty || addForm.role.touched)" class="alert alert-danger">
                  <div *ngIf="addForm.role.errors.required">
                    *Phân quyền là bắt buộc
                  </div>
                  <div *ngIf="addForm.role.errors.requireCombo">*Phân quyền là bắt buộc</div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="offset-md-2 col-md-5">
          <div class="row">
            <div class="col-md-3">
              <label for="company">Trạng thái<span class="asterisk">&#42;</span></label>
            </div>
            <div class="col-md-9">
              <div class="form-group">
                <select id="select-status" name="selectStatus" class="form-control" formControlName="status">
                  <option [ngValue]="actFlg.value" *ngFor="let actFlg of status">{{actFlg.name}}</option>
                </select>
                <div *ngIf="addForm.status.invalid && (addForm.status.dirty || addForm.status.touched)" class="alert alert-danger">
                  <div *ngIf="addForm.status.errors.required">
                    *Trạng thái là bắt buộc
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="card-footer">
        <button class="btn btn-primary" type="submit">Lưu</button>
        <button class="btn btn-secondary" routerLink="/user-management">Hủy bỏ</button>
      </div>
    </div>
    <!--[End] Create User-->
  </form>

  <!--[Start] Edit User -->
  <form *ngIf="user && id>0" [formGroup]="editUserForm" (ngSubmit)="onEditSubmit()">
  <div class="card-body" *ngIf="user && id>0">
    <div class="row">
      <div class="col-md-5">
        <div class="row">
          <div class="col-md-3">
            <label for="company">Tên đăng nhập<span class="asterisk">&#42;</span></label>
          </div>
          <div class="col-md-9">
            <div class="form-group">
              <input type="text" formControlName="eUsername" class="form-control" id="username-edit-id"
                placeholder="Nhập vào tên đăng nhập">
            </div>
          </div>
        </div>
      </div>
      <div class="offset-md-2 col-md-5">
        <div class="row">
          <div class="col-md-3">
            <label for="company">Email<span class="asterisk">&#42;</span></label>
          </div>
          <div class="col-md-9">
            <div class="form-group">
              <input type="text" formControlName="eEmail" class="form-control" id="email-id" placeholder="Nhập vào email">
              <div *ngIf="editForm.eEmail.invalid && (editForm.eEmail.dirty || editForm.eEmail.touched)" class="alert alert-danger">
                <div *ngIf="editForm.eEmail.errors.required">
                  *Email là bắt buộc
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-md-5">
        <div class="row">
          <div class="col-md-3">
            <label for="company">Quyền<span class="asterisk">&#42;</span></label>
          </div>
          <div class="col-md-9">
            <div class="form-group">
              <select id="select1" name="select1" class="form-control" formControlName="eRole">
                <option [ngValue]="r.value" *ngFor="let r of roles">{{r.name}}</option>
              </select>
            </div>
          </div>
        </div>
      </div>
      <div class="offset-md-2 col-md-5">
        <div class="row">
          <div class="col-md-3">
            <label for="company">Trạng thái<span class="asterisk">&#42;</span></label>
          </div>
          <div class="col-md-9">
            <div class="form-group">
              <select id="select-status" name="selectStatus" class="form-control" formControlName="eStatus">
                <option [ngValue]="actFlg.value" *ngFor="let actFlg of status">{{actFlg.name}}</option>
              </select>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="card-footer">
      <button class="btn btn-primary" type="submit">Lưu</button>
      <button class="btn btn-secondary" routerLink="/user-management">Hủy bỏ</button>
    </div>
  </div>
</form>
  <!--[End] Edit User-->

</div>